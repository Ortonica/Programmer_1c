
&НаСервере
&После("ПриСозданииНаСервере")
Процедура РСК_ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ГосконтрактДоговора = ЭлектронноеАктированиеЕИС.ГосударственныйКонтрактДоговора(Договор);
	Если ЗначениеЗаполнено(ГосконтрактДоговора) И ЗначениеЗаполнено(ГосконтрактДоговора.ВнутреннийИдентификаторЕИС)Тогда
		РС_ЭтоГосконтрактЕИС = Истина;
	Иначе 
		РС_ЭтоГосконтрактЕИС = Ложь;
	КонецЕсли;
	
	//+РС Консалт Назаров М.Ю. 28.03.2023 9:48:49
	ЗаполнитьСписокВыбораДолжностейЕИС();
	//-РС Консалт Назаров М.Ю. 28.03.2023 9:48:49
	
КонецПроцедуры    

&НаКлиенте
Процедура РСК_ОтпустилПриИзмененииПосле(Элемент)
	
	//+РС Консалт Назаров М.Ю. 28.03.2023 10:00:29
	ОтпустилДолжность = "";
	
	ЗаполнитьСписокВыбораДолжностейЕИС();
	//-РС Консалт Назаров М.Ю. 28.03.2023 10:00:29
	
КонецПроцедуры

&НаСервере
Процедура ЗаполнитьСписокВыбораДолжностейЕИС()
	
	Элементы.ОтпустилДолжность.РежимВыбораИзСписка = РС_ЭтоГосконтрактЕИС;
	
	Если Элементы.ОтпустилДолжность.РежимВыбораИзСписка Тогда 
		
		Элементы.ОтпустилДолжность.СписокВыбора.Очистить();
		
		ДолжностиФизЛица = РСК_Сервер.ПолучитьДолжностиФизЛицаПоОрганизацииЕИС(Отпустил, Организация);
		
		Элементы.ОтпустилДолжность.СписокВыбора.ЗагрузитьЗначения(ДолжностиФизЛица);	
		
		Если Элементы.ОтпустилДолжность.СписокВыбора.Количество() = 1 Тогда 
			ОтпустилДолжность = Элементы.ОтпустилДолжность.СписокВыбора[0].Значение;
		КонецЕсли;   
		
	КонецЕсли;

КонецПроцедуры


